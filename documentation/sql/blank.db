
CREATE DATABASE IF NOT EXISTS `farmasi` /*!40100 DEFAULT CHARACTER SET utf8 */ ;

use farmasi ;

SET SQL_MODE="NO_AUTO_VALUE_ON_ZERO";


-- START MASTER DATA TABLE CREATIONS
-- ALL MASTER DATA TABLE MUST BE UNDER THIS COMMENTS

DROP TABLE IF EXISTS `jbh_ms_inventory`;
CREATE TABLE `jbh_ms_inventory` (
`id`  int unsigned NOT NULL auto_increment ,
`batch_no`  Varchar(25) NOT NULL  Default '00' ,
`inventory_code`  Varchar(20) NOT NULL  Default '00' ,
`inventory_name`  Varchar(255) NOT NULL Default '-' ,
`inventory_unit`  Varchar(10) NOT NULL Default '-' COMMENT 'satuan barang',
`inventory_delunit`  Varchar(10) NOT NULL Default '-' ,
`inventory_price_buy`  Decimal(18,2) NOT NULL Default '0.00' ,
`inventory_disc_buy`  Decimal(16,2) NOT NULL Default '0.00' ,
`inventory_base_price`  Decimal(18,2) NOT NULL Default '0.00' ,
`inventory_base_minstock`  int NOT NULL Default 0 ,
`inventory_base_maxstock`  int NOT NULL Default 0 ,
`inventory_expire_date`  date NOT NULL Default '00-00-0000' ,
`inventory_flags`  tinyint NOT NULL Default 0 ,
`inventory_isactive`  tinyint NOT NULL Default 1 ,
`xinv_groupid`  Varchar(10) NOT NULL Default '-' ,
`xinv_factoryid`  Varchar(10) NOT NULL Default '-' ,
`xinv_rackid`  Varchar(10) NOT NULL Default '-' ,
`xinv_coa_persediaanid`  Varchar(11) NOT NULL Default '-' ,
`xinv_coa_pendapatanid`  Varchar(11) NOT NULL Default '-' ,
`xinv_coa_biayaid`  Varchar(11) NOT NULL Default '-' ,
`created_datetime`  datetime NOT NULL Default '00-00-0000 00:00:00' ,
`created_user`  varchar(20) NOT NULL Default '-' ,
`update_datetime`  datetime NOT NULL Default '00-00-0000 00:00:00' ,
`update_user`  varchar(20) NOT NULL Default '-' ,
`xfld01`  tinyint Default 0 ,
`xfld02`  int Default 0 ,
`xfld03`  bigint Default 0 ,
`xfld04`  Decimal(18,2) Default '0.00' ,
`xfld05`  Varchar(50) Default '-' ,
`xfld06`  Varchar(100) Default '-' ,
`xfld07`  Varchar(200) Default '-' ,
`xfld08`  Varchar(255) Default '-' ,
`xfld09`  Decimal(12,2) Default '0.00' ,
`xfld10`  Decimal(10,0) Default '0.00' ,
PRIMARY KEY (`id`) ) ENGINE=MyISAM AUTO_INCREMENT=0 DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `jbh_ms_factory`;
CREATE TABLE `jbh_ms_factory` (
`id` int unsigned NOT NULL auto_increment ,
`factory_code` Varchar(10) NOT NULL Default '00' ,
`factory_name` Varchar(200) NOT NULL Default '00' ,
`factory_address` Varchar(255) NOT NULL Default '-' ,
`factory_phone` Varchar(18) NOT NULL Default '-' ,
`factory_isactive` tinyint NOT NULL Default 1 ,
`created_datetime` datetime NOT NULL Default '00-00-0000 00:00:00' ,
`created_user` varchar(20) NOT NULL Default '-' ,
`update_datetime` datetime NOT NULL Default '00-00-0000 00:00:00' ,
`update_user` varchar(20) NOT NULL Default '-' ,
`xfld01` tinyint Default 0 ,
`xfld02` int Default 0 ,
`xfld03` bigint Default 0 ,
`xfld04` Decimal(18,2) Default '0.00' ,
`xfld05` Varchar(50) Default '-' ,
`xfld06` Varchar(100) Default '-' ,
`xfld07` Varchar(200) Default '-' ,
`xfld08` Varchar(255) Default '-' ,
`xfld09` Decimal(12,2) Default '0.00' ,
`xfld10` Decimal(10,0) Default '0.00' ,
PRIMARY KEY (`id`) ) ENGINE=MyISAM AUTO_INCREMENT=0 DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `jbh_ms_invgroup`;
CREATE TABLE `jbh_ms_invgroup` (
`id`  int unsigned NOT NULL auto_increment ,
`invgroup_code`  Varchar(10) NOT NULL Default '00' ,
`invgroup_name`  Varchar(100) NOT NULL Default '-' ,
`invgroup_isactive`  tinyint NOT NULL Default 1 ,
`created_datetime`  datetime NOT NULL Default '00-00-0000 00:00:00' ,
`created_user`  varchar(20) NOT NULL Default '-' ,
`update_datetime`  datetime NOT NULL Default '00-00-0000 00:00:00' ,
`update_user`  varchar(20) NOT NULL Default '-' ,
`xfld01`  tinyint NOT NULL Default 0 ,
`xfld02`  int NOT NULL Default 0 ,
`xfld03`  bigint Default 0 ,
`xfld04`  Decimal(18,2) Default '0.00' ,
`xfld05`  Varchar(50) Default '-' ,
`xfld06`  Varchar(100) Default '-' ,
`xfld07`  Varchar(200) Default '-' ,
`xfld08`  Varchar(255) Default '-' ,
`xfld09`  Decimal(12,2) Default '0.00' ,
`xfld10`  Decimal(10,0) Default '0.00' ,
PRIMARY KEY (`id`) ) ENGINE=MyISAM AUTO_INCREMENT=0 DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `jbh_ms_rack`;
CREATE TABLE `jbh_ms_rack` ( 
`id`  int unsigned NOT NULL auto_increment ,
`rack_code`  Varchar(10) NOT NULL Default '00' ,
`rack_name`  Varchar(100) NOT NULL Default '-' ,
`rack_warehouse`  Varchar(100) NOT NULL Default '-' ,
`rack_isactive`  tinyint NOT NULL Default 1 ,
`created_datetime`  datetime NOT NULL Default '00-00-0000 00:00:00' ,
`created_user`  varchar(20) NOT NULL Default '-' ,
`update_datetime`  datetime NOT NULL Default '00-00-0000 00:00:00' ,
`update_user`  varchar(20) NOT NULL Default '-' ,
`xfld01`  tinyint Default 0 ,
`xfld02`  int Default 0 ,
`xfld03`  bigint Default 0 ,
`xfld04`  Decimal(18,2) Default '0.00' ,
`xfld05`  Varchar(50) Default '-' ,
`xfld06`  Varchar(100) Default '-' ,
`xfld07`  Varchar(200) Default '-' ,
`xfld08`  Varchar(255) Default '-' ,
`xfld09`  Decimal(12,2) Default '0.00' ,
`xfld10`  Decimal(10,0) Default '0.00' ,
PRIMARY KEY (`id`) ) ENGINE=MyISAM AUTO_INCREMENT=0 DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `jbh_ms_coahead`;
CREATE TABLE `jbh_ms_coahead` (
`id` INT unsigned NOT NULL auto_increment,
`coah_code` char(11) NOT NULL DEFAULT '00',
`coah_name` varchar(200) not null default 'xxxx',
`created_datetime`  datetime NOT NULL Default '00-00-0000 00:00:00' ,
`created_user`  varchar(20) NOT NULL Default '-' ,
`update_datetime`  datetime NOT NULL Default '00-00-0000 00:00:00' ,
`update_user`  varchar(20) NOT NULL Default '-' ,
`xfld01`  varchar(255) Default 0 ,
`xfld02`  int Default 0 ,
`xfld03`  bigint Default 0 ,
`xfld04`  Decimal(18,2) Default '0.00' ,
`xfld05`  Varchar(50) Default '-' ,
PRIMARY KEY (`id`) ) ENGINE=MyISAM AUTO_INCREMENT=0 DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `jbh_ms_coagroup`;
CREATE TABLE `jbh_ms_coagroup` (
`id` INT unsigned NOT NULL auto_increment,
`coag_code` char(11) NOT NULL DEFAULT '00',
`coag_name` varchar(200) not null default 'xxxx',
`xcoag_headid` int not null default 1,
`created_datetime`  datetime NOT NULL Default '00-00-0000 00:00:00' ,
`created_user`  varchar(20) NOT NULL Default '-' ,
`update_datetime`  datetime NOT NULL Default '00-00-0000 00:00:00' ,
`update_user`  varchar(20) NOT NULL Default '-' ,
`xfld01`  varchar(255) Default 0 ,
`xfld02`  int Default 0 ,
`xfld03`  bigint Default 0 ,
`xfld04`  Decimal(18,2) Default '0.00' ,
`xfld05`  Varchar(50) Default '-' ,
PRIMARY KEY (`id`) ) ENGINE=MyISAM AUTO_INCREMENT=0 DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `jbh_ms_coasubg`;
CREATE TABLE `jbh_ms_coasubg` (
`id` INT unsigned NOT NULL auto_increment,
`coasg_code` char(11) NOT NULL DEFAULT '00',
`coasg_name` varchar(200) not null default 'xxxx',
`xcoasg_coagid` int not null default 1,
`created_datetime`  datetime NOT NULL Default '00-00-0000 00:00:00' ,
`created_user`  varchar(20) NOT NULL Default '-' ,
`update_datetime`  datetime NOT NULL Default '00-00-0000 00:00:00' ,
`update_user`  varchar(20) NOT NULL Default '-' ,
`xfld01`  varchar(255) Default 0 ,
`xfld02`  int Default 0 ,
`xfld03`  bigint Default 0 ,
`xfld04`  Decimal(18,2) Default '0.00' ,
`xfld05`  Varchar(50) Default '-' ,
PRIMARY KEY (`id`) ) ENGINE=MyISAM AUTO_INCREMENT=0 DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `jbh_ms_coa`;
CREATE TABLE `jbh_ms_coa` (
`id`  int unsigned NOT NULL auto_increment ,
`coa_code`  Varchar(11) NOT NULL Default '00' ,
`coa_name`  Varchar(200) NOT NULL Default '-' ,
`coa_dk`  Char(1) NOT NULL Default "D" ,
`coa_pl_bs`  Char(2) NOT NULL Default "PL" ,
`coa_isactive`  tinyint NOT NULL Default 1 ,
/*`xcoa_groupid`  Char(3) NOT NULL Default '000' ,*/
`xcoa_coasgid` int not null default 1,
`created_datetime`  datetime NOT NULL Default '00-00-0000 00:00:00' ,
`created_user`  varchar(20) NOT NULL Default '-' ,
`update_datetime`  datetime NOT NULL Default '00-00-0000 00:00:00' ,
`update_user`  varchar(20) NOT NULL Default '-' ,
`xfld01`  varchar(255) Default 0 ,
`xfld02`  int Default 0 ,
`xfld03`  bigint Default 0 ,
`xfld04`  Decimal(18,2) Default '0.00' ,
`xfld05`  Varchar(50) Default '-' ,
PRIMARY KEY (`id`) ) ENGINE=MyISAM AUTO_INCREMENT=0 DEFAULT CHARSET=latin1;

/*
DROP TABLE IF EXISTS `jbh_ms_coagroup`;
CREATE TABLE `jbh_ms_coagroup` (
`id`  int unsigned NOT NULL auto_increment ,
`coagroup_code`  Char(3) NOT NULL Default '000' ,
`coagroup_name`  Varchar(200) NOT NULL Default '-' ,
`coagroup_isactive`  tinyint NOT NULL Default 1 ,
`created_datetime`  datetime NOT NULL Default '00-00-0000 00:00:00' ,
`created_user`  varchar(20) NOT NULL Default '-' ,
`update_datetime`  datetime NOT NULL Default '00-00-0000 00:00:00' ,
`update_user`  varchar(20) NOT NULL Default '-' ,
`xfld01`  varchar(255) Default 0 ,
`xfld02`  int Default 0 ,
`xfld03`  bigint Default 0 ,
`xfld04`  Decimal(18,2) Default '0.00' ,
`xfld05`  Varchar(50) Default '-' ,
PRIMARY KEY (`id`) ) ENGINE=MyISAM AUTO_INCREMENT=0 DEFAULT CHARSET=latin1;
*/


DROP TABLE IF EXISTS `jbh_ms_pbf`;
CREATE TABLE `jbh_ms_pbf` (
`id`  int unsigned NOT NULL auto_increment ,
`pbf_code`  varchar(10) NOT NULL Default '00' ,
`pbf_name`  varchar(255) NOT NULL Default '-' ,
`pbf_address`  varchar(255) NOT NULL Default '-' ,
`pbf_phone`  varchar(18) NOT NULL Default '-' ,
`pbf_isactive`  tinyint NOT NULL Default 1 ,
`xpbf_factoryid`  varchar(10) NOT NULL Default '-' ,
`created_datetime`  datetime NOT NULL Default '00-00-0000 00:00:00' ,
`created_user`  varchar(20) NOT NULL Default '-' ,
`update_datetime`  datetime NOT NULL Default '00-00-0000 00:00:00' ,
`update_user`  varchar(20) NOT NULL Default '-' ,
`xfld01`  tinyint Default 0 ,
`xfld02`  int Default 0 ,
`xfld03`  bigint Default 0 ,
`xfld04`  Decimal(18,2) Default '0.00' ,
`xfld05`  Varchar(50) Default '-' ,
`xfld06`  Varchar(100) Default '-' ,
`xfld07`  Varchar(200) Default '-' ,
`xfld08`  Varchar(255) Default '-' ,
`xfld09`  Decimal(12,2) Default '0.00' ,
`xfld10`  Decimal(10,0) Default '0.00' ,
PRIMARY KEY (`id`) ) ENGINE=MyISAM AUTO_INCREMENT=0 DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `jbh_ms_unit`;
CREATE TABLE `jbh_ms_unit` (
`id`  int unsigned NOT NULL auto_increment ,
`unit_code` varchar(10) NOT NULL DEFAULT '00',
`unit_name` varchar(200) NOT NULL DEFAULT 'xxx00xx',
`unit_isactive` tinyint Not null default 1,
`created_datetime`  datetime NOT NULL Default '00-00-0000 00:00:00' ,
`created_user`  varchar(20) NOT NULL Default '-' ,
`update_datetime`  datetime NOT NULL Default '00-00-0000 00:00:00' ,
`update_user`  varchar(20) NOT NULL Default '-' ,
`xfld01`  varchar(255) Default 0 ,
`xfld02`  int Default 0 ,
`xfld03`  bigint Default 0 ,
`xfld04`  Decimal(18,2) Default '0.00' ,
`xfld05`  Varchar(50) Default '-' ,
PRIMARY KEY (`id`) ) ENGINE=MyISAM AUTO_INCREMENT=0 DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `jbh_ms_menu`;
CREATE TABLE `jbh_ms_menu` (
`id`  int unsigned NOT NULL auto_increment ,
`menu_code` varchar(20) not null default '00',
`menu_name` varchar(80) not null default 'xxx',
`menu_isactive` tinyint not null default 1,
`menu_rel` varchar(200) not null default 'assets/js/menu',
`xmenu_gmenuid` int not null default 1,
`xmenu_authgid` int not null default 3,
`xmenu_moduleid` int not null default 1, 
`created_datetime`  datetime NOT NULL Default '00-00-0000 00:00:00' ,
`created_user`  varchar(20) NOT NULL Default '-' ,
`update_datetime`  datetime NOT NULL Default '00-00-0000 00:00:00' ,
`update_user`  varchar(20) NOT NULL Default '-' ,
`xfld01`  varchar(255) Default 0 ,
`xfld02`  int Default 0 ,
`xfld03`  bigint Default 0 ,
`xfld04`  Decimal(18,2) Default '0.00' ,
`xfld05`  Varchar(50) Default '-' ,
PRIMARY KEY (`id`) ) ENGINE=MyISAM AUTO_INCREMENT=0 DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `jbh_ms_gmenu`;
CREATE TABLE `jbh_ms_gmenu` (
`id` int unsigned not null auto_increment,
`gmenu_code` varchar(20) not null default '00',
`gmenu_name` varchar(200) not null default 'xxx',
`gmenu_lvlhead` tinyint not null default 1 comment 'menu deep levels',
`gmenu_isactive` tinyint not null default 1,
`created_datetime`  datetime NOT NULL Default '00-00-0000 00:00:00' ,
`created_user`  varchar(20) NOT NULL Default '-' ,
`update_datetime`  datetime NOT NULL Default '00-00-0000 00:00:00' ,
`update_user`  varchar(20) NOT NULL Default '-' ,
`xfld01`  varchar(255) Default 0 ,
`xfld02`  int Default 0 ,
`xfld03`  bigint Default 0 ,
`xfld04`  Decimal(18,2) Default '0.00' ,
`xfld05`  Varchar(50) Default '-' ,
PRIMARY KEY (`id`) ) ENGINE=MyISAM AUTO_INCREMENT=0 DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `jbh_ms_auth`;
CREATE TABLE `jbh_ms_auth` (
`id` int unsigned not null auto_increment,
`auth_code` char(10) not null default 'usr01',
`auth_uname` varchar(15) not null default 'username',
`auth_pwd` varchar(25) not null default 'MD5 SUM please',
`auth_fname` varchar(50) not null default 'Full Name',
`auth_isactive` tinyint not null default 1,
`xauth_deptid` int not null default 1,
`xauth_authgid` int not null default 1,
`created_datetime` datetime NOT NULL Default '00-00-0000 00:00:00' ,
`created_user` varchar(20) NOT NULL Default '-' ,
`update_datetime` datetime NOT NULL Default '00-00-0000 00:00:00' ,
`update_user` varchar(20) NOT NULL Default '-' ,
`xfld01`  varchar(255) Default 0 ,
`xfld02`  int Default 0 ,
`xfld03`  bigint Default 0 ,
`xfld04`  Decimal(18,2) Default '0.00' ,
`xfld05`  Varchar(50) Default '-' ,
PRIMARY KEY (`id`) ) ENGINE=MyISAM AUTO_INCREMENT=0 DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `jbh_ms_gauth`;
CREATE TABLE `jbh_ms_gauth` (
`id` int unsigned not null auto_increment,
`gauth_code` char(5) not null default 'user' comment 'fill:: admin, sprvs, user, rprts',
`gauth_desc` varchar(15) not null default 'users' ,
`created_datetime`  datetime NOT NULL Default '00-00-0000 00:00:00' ,
`created_user`  varchar(20) NOT NULL Default '-' ,
`update_datetime`  datetime NOT NULL Default '00-00-0000 00:00:00' ,
`update_user`  varchar(20) NOT NULL Default '-' ,
`xfld01`  varchar(255) Default 0 ,
`xfld02`  int Default 0 ,
`xfld03`  bigint Default 0 ,
`xfld04`  Decimal(18,2) Default '0.00' ,
`xfld05`  Varchar(50) Default '-' ,
PRIMARY KEY (`id`) ) ENGINE=MyISAM AUTO_INCREMENT=0 DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `jbh_ms_dept`;
CREATE TABLE `jbh_ms_dept` (
`id` int unsigned not null auto_increment,
`dept_code` varchar(20) not null default '00xx00',
`dept_name` varchar(200) not null default 'xxxxxx',
`dept_isactive` tinyint not null default 1,
`created_datetime`  datetime NOT NULL Default '00-00-0000 00:00:00' ,
`created_user`  varchar(20) NOT NULL Default '-' ,
`update_datetime`  datetime NOT NULL Default '00-00-0000 00:00:00' ,
`update_user`  varchar(20) NOT NULL Default '-' ,
`xfld01`  varchar(255) Default 0 ,
`xfld02`  int Default 0 ,
`xfld03`  bigint Default 0 ,
`xfld04`  Decimal(18,2) Default '0.00' ,
`xfld05`  Varchar(50) Default '-' ,
PRIMARY KEY (`id`) ) ENGINE=MyISAM AUTO_INCREMENT=0 DEFAULT CHARSET=latin1;

DROP TABLE IF EXISTS `jbh_ms_module`;
CREATE TABLE `jbh_ms_module` (
`id` int unsigned not null auto_increment,
`module_code` varchar(30) not null default 'xxxx',
`module_rel` varchar(200) not null default '/app_path/module/',
`module_isactive` tinyint not null default 1,
`created_datetime`  datetime NOT NULL Default '00-00-0000 00:00:00' ,
`created_user`  varchar(20) NOT NULL Default '-' ,
`update_datetime`  datetime NOT NULL Default '00-00-0000 00:00:00' ,
`update_user`  varchar(20) NOT NULL Default '-' ,
`xfld01`  varchar(255) Default 0 ,
`xfld02`  int Default 0 ,
`xfld03`  bigint Default 0 ,
`xfld04`  Decimal(18,2) Default '0.00' ,
`xfld05`  Varchar(50) Default '-' ,
PRIMARY KEY (`id`) ) ENGINE=MyISAM AUTO_INCREMENT=0 DEFAULT CHARSET=latin1;

-- END MASTER TABLE


-- START BASE TRANSACTION TABLE CREATIONS
-- ALL TRANSACTION TABLE MUST BE UNDER THIS COMMENTS

DROP TABLE IF EXISTS `jbh_tpurchasehead`;
CREATE TABLE `jbh_tpurchasehead` (
`id`  int unsigned NOT NULL auto_increment ,
`purhead_no`  char(20) NOT NULL Default '00' ,
`purhead_date`  date NOT NULL Default '00-00-0000' ,
`purhead_total`  decimal(16,2) NOT NULL Default '0.00'  COMMENT 'TOTAL \nEXCL: -PPN\n	 -DISCOUNT',
`purhead_totaldisc`  decimal(14,2) NOT NULL Default '0.00' ,
`purhead_isppn`  decimal(14,2) NOT NULL Default '0.00' ,
`purhead_grandtotal`  decimal(18,2) NOT NULL Default '0.00' ,
`purhead_flags`  tinyint NOT NULL Default 0 COMMENT '- open\n- approved\n- receiving\n- close\n- retur\n',
`purhead_iscancel`  tinyint NOT NULL Default 0 ,
`purhead_cancelnote`  varchar(255) NOT NULL Default '-' ,
`purhead_returnote`  varchar(255) NOT NULL Default '-' ,
`purhead_tempo` DATE NOT NULL DEFAULT '00-00-0000',
`xpurhead_factoryid`  int NOT NULL Default 0 ,
`xpurhead_pbfid`  int NOT NULL Default 0 ,
`xpurhead_trcvheadid`  int NOT NULL Default 0 ,
`xpurhead_tretrheadid`  int NOT NULL Default 0 ,
`created_datetime`  datetime NOT NULL Default '00-00-0000 00:00:00' ,
`created_user`  varchar(20) NOT NULL Default '-' ,
`update_datetime`  datetime NOT NULL Default '00-00-0000 00:00:00' ,
`update_user`  varchar(20) NOT NULL Default '-' ,
`xfld01`  tinyint  Default 0 ,
`xfld02`  int  Default 0 ,
`xfld03`  bigint  Default 0 ,
`xfld04`  Decimal(18,2)  Default '0.00' ,
`xfld05`  Varchar(50)  Default '-' ,
`xfld06`  Varchar(100)  Default '-' ,
`xfld07`  Varchar(200)  Default '-' ,
`xfld08`  Varchar(255)  Default '-' ,
`xfld09`  Decimal(12,2)  Default '0.00' ,
`xfld10`  Decimal(10,0)  Default '0.00' ,
PRIMARY KEY (`id`) ) ENGINE=MyISAM AUTO_INCREMENT=0 DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `jbh_tpurchasedet`;
CREATE TABLE `jbh_tpurchasedet` (
`id`  int unsigned NOT NULL auto_increment ,
`xpurdet_headid`  int NOT NULL Default 1 ,
`xpurdet_invid`  int NOT NULL Default 0 ,
`purdet_qty`  int NOT NULL Default 0 ,
`purdet_baseprice`  decimal(12,2) NOT NULL Default '0.00' ,
`purdet_disc`  decimal(10,2) NOT NULL Default '0.00' COMMENT 'Amount Please' ,
`purdet_isppn`  tinyint NOT NULL Default 0 ,
`purdet_flags`  tinyint NOT NULL Default 0 ,
`purdet_iscancel`  tinyint NOT NULL Default 0 ,
`purdet_isretur`  tinyint NOT NULL Default 0 ,
`purdet_cancelnote`  varchar(255) NOT NULL Default '-' ,
`purdet_returnote`  varchar(255) NOT NULL Default '-' ,
`created_datetime`  datetime NOT NULL Default '00-00-0000 00:00:00' ,
`created_user`  varchar(20) NOT NULL Default '-' ,
`update_datetime`  datetime NOT NULL Default '00-00-0000 00:00:00' ,
`update_user`  varchar(20) NOT NULL Default '-' ,
`xfld01`  tinyint  Default 0 ,
`xfld02`  int  Default 0 ,
`xfld03`  bigint  Default 0 ,
`xfld04`  Decimal(18,2)  Default '0.00' ,
`xfld05`  Varchar(50)  Default '-' ,
`xfld06`  Varchar(100)  Default '-' ,
`xfld07`  Varchar(200)  Default '-' ,
`xfld08`  Varchar(255)  Default '-' ,
`xfld09`  Decimal(12,2)  Default '0.00' ,
`xfld10`  Decimal(10,0)  Default '0.00' ,
PRIMARY KEY (`id`) ) ENGINE=MyISAM AUTO_INCREMENT=0 DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `jbh_trcvhead`;
CREATE TABLE `jbh_trcvhead` (
`id`  int unsigned NOT NULL auto_increment ,
`rcv_no` CHAR(20) NOT NULL Default '00',
`rcv_date` Date NOT NULL DEFAULT '00-00-00',
`rcv_total` decimal(16,2) NOT NULL DEFAULT '0.00',
`rcv_totaldisc` Decimal(14,2) NOT NULL DEFAULT '0.00',
`rcv_isppn` Decimal (14,2) NOT NULL DEFAULT '0.00',
`rcv_grandtotal` Decimal(18,2) NOT NULL DEFAULT '0.00',
`rcv_fakturno` VARCHAR(50) NOT NULL DEFAULT 'xxx000x',
`rcv_flag` TINYINT NOT NULL DEFAULT 0,
`rcv_iscancel` TINYINT NOT NULL DEFAULT 0,
`rcv_isretur` TINYINT NOT NULL DEFAULT 0,
`xrcv_purheadid` INT NOT NULL,
`xrcv_retrheadid` INT NOT NULL DEFAULT 0,
`created_datetime`  datetime NOT NULL Default '00-00-0000 00:00:00' ,
`created_user`  varchar(20) NOT NULL Default '-' ,
`update_datetime`  datetime NOT NULL Default '00-00-0000 00:00:00' ,
`update_user`  varchar(20) NOT NULL Default '-' ,
`xfld01`  tinyint  Default 0 ,
`xfld02`  int  Default 0 ,
`xfld03`  bigint  Default 0 ,
`xfld04`  Decimal(18,2)  Default '0.00' ,
`xfld05`  Varchar(50)  Default '-' ,
`xfld06`  Varchar(100)  Default '-' ,
`xfld07`  Varchar(200)  Default '-' ,
`xfld08`  Varchar(255)  Default '-' ,
`xfld09`  Decimal(12,2)  Default '0.00' ,
`xfld10`  Decimal(10,0)  Default '0.00' ,
PRIMARY KEY (`id`) ) ENGINE=MyISAM AUTO_INCREMENT=0 DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `jbh_trcvdet`;
CREATE TABLE `jbh_trcvdet` (
`id`  int unsigned NOT NULL auto_increment ,
`xrcvdet_rcvheadid`  int NOT NULL Default 1 ,
`xrcvdet_invid`  int NOT NULL Default 0 ,
`xrcvdet_purheadid` INT NOT NULL DEFAULT 1,
`rcvdet_qty`  int NOT NULL Default 0 ,
`rcvdet_baseprice`  decimal(12,2) NOT NULL Default '0.00' ,
`rcvdet_disc`  decimal(10,2) NOT NULL Default '0.00' COMMENT 'Amount Please' ,
`rcvdet_isppn`  tinyint NOT NULL Default 0 ,
`rcvdet_flags`  tinyint NOT NULL Default 0 ,
`rcvdet_iscancel`  tinyint NOT NULL Default 0 ,
`rcvdet_isretur`  tinyint NOT NULL Default 0 ,
`rcvdet_cancelnote`  varchar(255) NOT NULL Default '-' ,
`rcvdet_returnote`  varchar(255) NOT NULL Default '-' ,
`created_datetime`  datetime NOT NULL Default '00-00-0000 00:00:00' ,
`created_user`  varchar(20) NOT NULL Default '-' ,
`update_datetime`  datetime NOT NULL Default '00-00-0000 00:00:00' ,
`update_user`  varchar(20) NOT NULL Default '-' ,
`xfld01`  tinyint  Default 0 ,
`xfld02`  int  Default 0 ,
`xfld03`  bigint  Default 0 ,
`xfld04`  Decimal(18,2)  Default '0.00' ,
`xfld05`  Varchar(50)  Default '-' ,
`xfld06`  Varchar(100)  Default '-' ,
`xfld07`  Varchar(200)  Default '-' ,
`xfld08`  Varchar(255)  Default '-' ,
`xfld09`  Decimal(12,2)  Default '0.00' ,
`xfld10`  Decimal(10,0)  Default '0.00' ,
PRIMARY KEY (`id`)) ENGINE=MyISAM AUTO_INCREMENT=0 DEFAULT CHARSET=latin1;

DROP TABLE IF EXISTS `jbh_tretrhead`;
CREATE TABLE `jbh_tretrhead` (
`id`  int unsigned NOT NULL auto_increment ,
`retr_no` char(20) NOT NULL Default '000',
`retr_Date` date NOT NULL default '00-00-0000',
`retr_flags` tinyint not null default 0,
`xretr_purheadid` int not null,
`xretr_rcvheadid` int not null,
`xretr_distheadid` int not null,
`retr_notes` varchar(255) not null,
`retr_flag` tinyint not null,
`retr_grandtotal` decimal(18,2) not null default '0',
`created_datetime`  datetime NOT NULL Default '00-00-0000 00:00:00' ,
`created_user`  varchar(20) NOT NULL Default '-' ,
`update_datetime`  datetime NOT NULL Default '00-00-0000 00:00:00' ,
`update_user`  varchar(20) NOT NULL Default '-' ,
`xfld01`  tinyint  Default 0 ,
`xfld02`  int  Default 0 ,
`xfld03`  bigint  Default 0 ,
`xfld04`  Decimal(18,2)  Default '0.00' ,
`xfld05`  Varchar(50)  Default '-' ,
`xfld06`  Varchar(100)  Default '-' ,
`xfld07`  Varchar(200)  Default '-' ,
`xfld08`  Varchar(255)  Default '-' ,
`xfld09`  Decimal(12,2)  Default '0.00' ,
`xfld10`  Decimal(10,0)  Default '0.00' ,
PRIMARY KEY (`id`)) ENGINE=MyISAM AUTO_INCREMENT=0 DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `jbh_tretrdet` ;
CREATE TABLE `jbh_tretrdet` (
`id` INT UNSIGNED NOT NULL auto_increment,
`xretrdet_retheadid` INT not null,
`xretrdet_purheadid` INT Not null,
`xretrdet_rcvheadid` INT not null,
`xretrdet_distheadid` int not null ,
`xretrdet_invid` INT NOT NULL,
`retrdet_qty` DECIMAL(12,2) not null default '0.00',
`retrdet_baseprice` DECIMAL(12,2) NOT NULL DEFAULT '0.00',
`retrdet_flag` tinyint not null default 0,
`retrdet_notes` varchar(255) not null default 'RETUR::',
`created_datetime`  datetime NOT NULL Default '00-00-0000 00:00:00' ,
`created_user`  varchar(20) NOT NULL Default '-' ,
`update_datetime`  datetime NOT NULL Default '00-00-0000 00:00:00' ,
`update_user`  varchar(20) NOT NULL Default '-' ,
`xfld01`  tinyint  Default 0 ,
`xfld02`  int  Default 0 ,
`xfld03`  bigint  Default 0 ,
`xfld04`  Decimal(18,2)  Default '0.00' ,
`xfld05`  Varchar(50)  Default '-' ,
`xfld06`  Varchar(100)  Default '-' ,
`xfld07`  Varchar(200)  Default '-' ,
`xfld08`  Varchar(255)  Default '-' ,
`xfld09`  Decimal(12,2)  Default '0.00' ,
`xfld10`  Decimal(10,0)  Default '0.00' ,
PRIMARY KEY (`id`)) ENGINE=MyISAM AUTO_INCREMENT=0 DEFAULT CHARSET=latin1;




DROP TABLE IF EXISTS `jbh_tdisthead`;
CREATE TABLE `jbh_tdisthead` (
`id`  int unsigned NOT NULL auto_increment ,
`disthead_no` char(20) NOT NULL Default '00',
`disthead_date` date NOT NULL Default '00-00-0000',
`disthead_flag` tinyint NOT NULL Default 0,
`disthead_ismargin` tinyint NOT NULL Default 0,
`disthead_iscancel` tinyint NOT NULL Default 0,
`disthead_total` decimal(18,2) NOT NULL Default '0.00',
`xdisthead_unitid` int NOT NULL Default 0 COMMENT 'unit yg minta :: \napotek\nigd\nok(ruang operasi)\nruang rawat\npoli ..',
`created_datetime`  datetime NOT NULL Default '00-00-0000 00:00:00' ,
`created_user`  varchar(20) NOT NULL Default '-' ,
`update_datetime`  datetime NOT NULL Default '00-00-0000 00:00:00' ,
`update_user`  varchar(20) NOT NULL Default '-' ,
`xfld01`  tinyint  Default 0 ,
`xfld02`  int  Default 0 ,
`xfld03`  bigint  Default 0 ,
`xfld04`  Decimal(18,2)  Default '0.00' ,
`xfld05`  Varchar(50)  Default '-' ,
`xfld06`  Varchar(100)  Default '-' ,
`xfld07`  Varchar(200)  Default '-' ,
`xfld08`  Varchar(255)  Default '-' ,
`xfld09`  Decimal(12,2)  Default '0.00' ,
`xfld10`  Decimal(10,0)  Default '0.00' ,
PRIMARY KEY (`id`) ) ENGINE=MyISAM AUTO_INCREMENT=0 DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `jbh_tdistdet` ;
CREATE TABLE `jbh_tdistdet` (
`id` INT UNSIGNED NOT NULL auto_increment,
`xdistdet_headid` INT NOT NULL default 1,
`xdistdet_stockid` INT NOT NULL ,
`xdistdet_price` INT NOT NULL,
`distdet_qty` DECIMAL(12,2) NOT NULL DEFAULT '0.0',
`distdet_unitid` INT NOT NULL COMMENT 'satuan barang',
`distdet_iscancel` TINYINT NOT NULL DEFAULT 0,
`distdet_flag` TINYINT NOT NULL DEFAULT 0,
`distdet_isretur` TINYINT NOT NULL DEFAULT 0,
`created_datetime`  datetime NOT NULL Default '00-00-0000 00:00:00' ,
`created_user`  varchar(20) NOT NULL Default '-' ,
`update_datetime`  datetime NOT NULL Default '00-00-0000 00:00:00' ,
`update_user`  varchar(20) NOT NULL Default '-' ,
`xfld01`  tinyint  Default 0 ,
`xfld02`  int  Default 0 ,
`xfld03`  bigint  Default 0 ,
`xfld04`  Decimal(18,2)  Default '0.00' ,
`xfld05`  Varchar(50)  Default '-' ,
`xfld06`  Varchar(100)  Default '-' ,
`xfld07`  Varchar(200)  Default '-' ,
`xfld08`  Varchar(255)  Default '-' ,
`xfld09`  Decimal(12,2)  Default '0.00' ,
`xfld10`  Decimal(10,0)  Default '0.00' ,
PRIMARY KEY (`id`) ) ENGINE=MyISAM AUTO_INCREMENT=0 DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `jbh_treqdisthead` ;
CREATE TABLE `jbh_treqdisthead` (
`id` INT UNSIGNED NOT NULL auto_increment,
`reqds_no` varchar(20) NOT NULL Default '000' ,
`reqds_date` date not null default '00-00-0000' ,
`reqds_flag` tinyint not null Default 1,
`reqds_iscancel` tinyint not null default 0,
`reqds_total` decimal(14,2) not null default '0.00' ,
`xreqds_unitid` int not null default 1 comment 'Unit(Departemen) peminta' ,
`created_datetime`  datetime NOT NULL Default '00-00-0000 00:00:00' ,
`created_user`  varchar(20) NOT NULL Default '-' ,
`update_datetime`  datetime NOT NULL Default '00-00-0000 00:00:00' ,
`update_user`  varchar(20) NOT NULL Default '-' ,
`xfld01`  tinyint  Default 0 ,
`xfld02`  int  Default 0 ,
`xfld03`  bigint  Default 0 ,
`xfld04`  Decimal(18,2)  Default '0.00' ,
`xfld05`  Varchar(50)  Default '-' ,
`xfld06`  Varchar(100)  Default '-' ,
`xfld07`  Varchar(200)  Default '-' ,
`xfld08`  Varchar(255)  Default '-' ,
`xfld09`  Decimal(12,2)  Default '0.00' ,
`xfld10`  Decimal(10,0)  Default '0.00' ,
PRIMARY KEY (`id`) ) ENGINE=MyISAM AUTO_INCREMENT=0 DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `jbh_treqdistdet`;
CREATE TABLE `jbh_treqdistdet` (
`id` INT UNSIGNED NOT NULL auto_increment,
`xreqds_id` int not null default 1,
`xreqds_invid` int not null default 1,
`reqds_qty` decimal(6,2) not null default '0.00',
`reqds_baseprice` decimal(16,2) not null default '0.00',
`reqds_unitid` int not null default 1 comment 'satuan barang',
`reqds_iscancel` tinyint not null default 0,
`created_datetime`  datetime NOT NULL Default '00-00-0000 00:00:00' ,
`created_user`  varchar(20) NOT NULL Default '-' ,
`update_datetime`  datetime NOT NULL Default '00-00-0000 00:00:00' ,
`update_user`  varchar(20) NOT NULL Default '-' ,
`xfld01`  tinyint  Default 0 ,
`xfld02`  int  Default 0 ,
`xfld03`  bigint  Default 0 ,
`xfld04`  Decimal(18,2)  Default '0.00' ,
`xfld05`  Varchar(50)  Default '-' ,
`xfld06`  Varchar(100)  Default '-' ,
`xfld07`  Varchar(200)  Default '-' ,
`xfld08`  Varchar(255)  Default '-' ,
`xfld09`  Decimal(12,2)  Default '0.00' ,
`xfld10`  Decimal(10,0)  Default '0.00' ,
PRIMARY KEY (`id`) ) ENGINE=MyISAM AUTO_INCREMENT=0 DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `jbh_trcphead` ;
CREATE TABLE `jbh_trcphead` (
`id` INT UNSIGNED NOT NULL auto_increment,
`rcphead_date` date not null default '00-00-0000',
`rcphead_no` varchar(40) not null default 'RRI/MMYY00001',
`rcphead_flag` tinyint not null default 1 comment '1=RRI[rawat inap], 2=RRJ[rawat jalan], 3=URS[umum with Resep], 4=UNR[umum non resep], 5=RKN[Rekanan]',
`rcphead_status` tinyint not null default 1 comment '1=unpaid, 2=paid, 3=paid with det, 9=cancel' ,
`xrcphead_pasienid` int not null default 1 comment 'cross database simrs.pasien',
`xrcphead_paytype` int not null default 1 comment 'payment type based on pasien request',
`xrcphead_roomid` int not null default 0 comment 'room no, for rawat inap only',
`rcphead_marginval` decimal(2,2) not null default '0.00' comment 'margin precentage MUST SAVED',
`rcphead_total` decimal(16,2) not null default '0.00',
`rcphead_disc` decimal(14,2) not null default '0.00',
`rcphead_grandtotal` decimal(18,2) not null default '0.00',
`created_datetime` datetime not null default '00-00-0000 00:00:00',
`created_user` varchar(20) not null default '-',
`update_datetime` datetime not null default '00-00-0000 00:00:00',
`update_user` varchar(20) not null default '-',
`xfld01` tinyint default 0,
`xfld02` int default 0,
`xfld03` bigint default 0,
`xfld04` decimal(18,2) default '0.00',
`xfld05` varchar(50) default '-',
`xfld06` varchar(100) default '-',
`xfld07` varchar(200) default '-',
`xfld08` varchar(255) default '-',
`xfld09` decimal(12,2) default '0.00',
`xfld10` decimal(10,2) default '0.00',
PRIMARY KEY (`id`) ) ENGINE=MyISAM AUTO_INCREMENT=0 DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `jbh_trcpdet` ;
CREATE TABLE `jbh_trcpdet` (
`id` INT UNSIGNED NOT NULL auto_increment,
`xrcpdet_headid` int not null default 1,
`xrcpdet_invid` int not null default 1,
`xrcpdet_baseprice` decimal(16,2) not null default '0.00',
`rcpdet_qty` decimal(6,2) not null default '0.00',
`rcpdet_price` decimal(16,2) not null default '0.00',
`rcpdet_marginval` decimal(2,2) not null default '0.00',
`rcpdet_dosis` varchar(50) not null default '3x1' comment 'dosis minum',
`rcpdet_ket`  varchar(100) not null default 'Sesudah Makan' comment 'sesudah makan, sebelum tidur, dll',
`rcpdet_total` decimal(16,2) not null default '0.00',
`rcpdet_flag` tinyint not null default 1 comment '1=full pay, 2=half, 3=unpaid', 
`rcpdet_isracik` bit not null default 0 comment '1= racikan refers to save to table jbh_trcpracik',
`xrcpdet_racikid` int not null default 1 comment 'id di table racik',
`created_datetime` datetime not null default '00-00-0000 00:00:00',
`created_user` varchar(20) not null default '-',
`update_datetime` datetime not null default '00-00-0000 00:00:00',
`update_user` varchar(20) not null default '-',
`xfld01` tinyint default 0,
`xfld02` int default 0,
`xfld03` bigint default 0,
`xfld04` decimal(18,2) default '0.00',
`xfld05` varchar(50) default '-',
`xfld06` varchar(100) default '-',
`xfld07` varchar(200) default '-',
`xfld08` varchar(255) default '-',
`xfld09` decimal(12,2) default '0.00',
`xfld10` decimal(10,2) default '0.00',
PRIMARY KEY (`id`) ) ENGINE=MyISAM AUTO_INCREMENT=0 DEFAULT CHARSET=latin1;


-- END TRANSACTION TABLE CREATIONS


-- START DRILLER(CALCULATION) TABLE CREATIONS
-- ALL DRILLER(CALCULATION) TABLE MUST BE UNDER THIS COMMENTS
